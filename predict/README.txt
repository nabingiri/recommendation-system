This directory contains instructions and files of mrjob program. 


---- TODO ----
Please follow below step-by-step process to run the program.

Step 1 : Open Anaconda Prompt and go to the path of the folder rating_pred_mrjob.
Step 2 : Run make_input.py using below command in Anaconda Prompt:
python make_input.py
Step 3 : Run rating_pred_mrjob.py program using below command in Anaconda Prompt:
python rating_pred_mrjob.py test_input_mrjob model_input_mrjob > output.txt
Step 4 : Run rmse_mrjob.py program using below command in Anaconda Prompt:
python rmse_mrjob.py


---- FILES ----

rating_pred_mrjob.py : Script to predict the ratings of train data using mrjob method.
test_input_mrjob : This file is generated by rating_pred_mrjob.py script using ua.base.feature file as an input file and again used by rating_pred_mrjob.py script as an input to mrjob program.
model_input_mrjob : This file is generated by rating_pred_mrjob.py script using 0100.model file as an input file and used again by rating_pred_mrjob.py script as an input to mrjob program.
output.txt : This file is generated by rating_pred_mrjob.py. here, all the output of mrjob program is written.
rmse_mrjob.py : Script to calculate Root Mean Squared Error of true rating and predicted rating. File containing true rating is ua.base.feature and file containing predicted rating is output.txt.


---- RUNNING IN EMR ----

Step 1 : Open mrjob.conf
Step 2: We need to update aws_access_key_id and aws_secret_access_key; to update them follow below steps:
    a. Go to https://aws.amazon.com/
    b. Sign In to the Console
    c. Click Account menu in the upper-right(has your name on it)
    d. Click sub-menu: My Security Credentials
Step 3 : Update aws_access_key_id and aws_secret_access_key in mrjob.conf file.
Step 4 : Run the below command in Anaconda Prompt
python rating_pred_mrjob.py -r emr --conf-path=mrjob.conf test_input_mrjob model_input_mrjob > output.txt


--- BELOW ARE INSTRUCTIONS IF USER WANTS TO CHANGE THE FUNCTIONALITY OF PROGRAM ---

1. To choose the specific model for prediction:
    a. Copy paste the desired model from train\model folder to predict folder
    b. Open make_input.py and change "0100.model" to desired model number in the main function. Line number is 58.

2. To run the program for testing data:
    a. Copy paste ua.test.feature from the train folder to predict folder
    b. Open rmse_mrjob.py and change "ua.base.feature" to "ua.test.feature". Line number 23.

3. To change configure file for running in EMR:
    a. Open mrjob.conf
    b. To set the number of child instances in EMR cluster, change the num_core_instances to desired child nodes
    c. To set the master instance type, change the master_instance_type to desired EC2 instance
    d. To set the child instance/s type, change the core_instance_type to desired EC2 instance